---
title: "Claude Code"
description: "Code editor integration tool configuration guide based on Anthropic Claude"
---

## Model Router Integration Method

### Parameter Configuration

The following information is required to configure Claude Code to connect to Model Router:

- **ANTHROPIC_AUTH_TOKEN**: API Key obtained from the Model Router console (starts with `sk-`)
- **ANTHROPIC_BASE_URL**: Model Router service address (e.g., `https://app.memorylake.ai/claude`)

### Visual Guide

#### 1. Install Claude Code

Install Claude Code globally via npm:

```bash
npm install -g @anthropic-ai/claude-code
```

Verify installation:

```bash
claude --version
```

#### 2. Get API Key

Click "Add Token" on the token management page in the Model Router console to get an API Key.

<Info>
The name can be set arbitrarily. It's recommended to set the quota to unlimited. Keep other settings as default.
</Info>

<Frame>
  <img
    className="rounded-xl"
    src="/images/ai-applications/get-api-key.png"
    alt="Get API Key from Model Router console"
    style={{ width: "100%", height: "auto" }}
  />
</Frame>

#### 3. Configure Environment Variables

Set environment variables in the project directory and start:

```bash
cd your-project-folder
export ANTHROPIC_AUTH_TOKEN=sk-...
export ANTHROPIC_BASE_URL=https://app.memorylake.ai/claude
claude
```

#### 4. Initialize Configuration

After running, complete initialization as prompted:

1. Select your preferred theme + Enter
2. Confirm safety notice + Enter
3. Use default Terminal configuration + Enter
4. Trust working directory + Enter

#### 5. Start Using

After configuration, you can code with your AI programming partner in the terminal.

<Frame>
  <img
    className="rounded-xl"
    src="/images/ai-applications/claude-code/usage.png"
    alt="Claude Code usage interface"
    style={{ width: "100%", height: "auto" }}
  />
</Frame>

## Persistent Configuration (Recommended)

To avoid repeatedly entering environment variables each time, you can write the configuration to shell configuration files:

### Bash Configuration

```bash
echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.bash_profile
echo -e '\n export ANTHROPIC_BASE_URL=https://app.memorylake.ai/claude' >> ~/.bash_profile
echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.bashrc
echo -e '\n export ANTHROPIC_BASE_URL=https://app.memorylake.ai/claude' >> ~/.bashrc
```

### Zsh Configuration

```bash
echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.zshrc
echo -e '\n export ANTHROPIC_BASE_URL=https://app.memorylake.ai/claude' >> ~/.zshrc
```

After configuration, restart the terminal to use directly:

```bash
cd your-project-folder
claude
```

## Key Points

1) **Get API Key**: Ensure you have generated a valid API Key in the Model Router console (starts with `sk-`).  
2) **Configure API Address**: Use the correct Model Router service address, e.g., `https://app.memorylake.ai/claude`.  
3) **Environment Variables**: It's recommended to write environment variables to shell configuration files to avoid manual setup each time.  
4) **Project Directory**: Run the `claude` command in the project directory to ensure the working directory is correct.

## Common Issues

- **Installation Failed**: Ensure Node.js and npm are installed; using `npm install -g` requires administrator privileges.
- **Connection Failed**: Check if the API address and API Key are correct, and ensure network connection is normal.
- **Environment Variables Not Effective**: Confirm they are correctly written to the configuration file and restart the terminal or execute `source ~/.bashrc` (or `source ~/.zshrc`).

## Limitations and Notes

- Claude Code requires Node.js environment support.
- API Key must start with `sk-`; ensure it's correctly obtained from the Model Router console.
- Model availability depends on your Model Router token group configuration.
