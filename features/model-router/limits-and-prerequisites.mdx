---
title: "限制与前置条件"
description: "在接入前明确模型可用范围、额度与调用前提，避免踩到隐性限制"
---

## 你需要提前具备什么
- 已创建账号并完成登录。  
- 已在控制台创建至少一个令牌，并关联到正确的令牌分组或团队上下文。  
- 对应分组已配置好可用模型、通道和基础额度（详见「团队协作 / 配额与用量」）。  

## 模型与通道相关限制
- **按令牌隔离**：  
  每个令牌只看得到、也只允许调用自己分组下配置的模型和通道；同一平台下不同令牌的模型列表可能完全不同。  
- **模型目录为准**：  
  通过 `/v1/models`、`/claude/v1/models`、`/gemini/*/models` 返回的列表，代表当前令牌真实可用的模型与来源；不在列表里的模型视为不可用。  
- **多模态与任务通道**：  
  Midjourney、Suno、RecraftAI、Kling 等任务型能力依赖对应通道已开通，未开通时相关任务接口将不可用。  

## 额度与计费相关限制
- **额度不足即拒绝**：  
  在配额预扣阶段，如果个人、团队或所有者任一侧额度不足，请求会被直接拒绝，不会进入模型执行阶段。  
- **预扣-结算双阶段**：  
  请求发出时会先预扣额度，实际扣费在请求完成后按真实用量结算；失败请求不会额外消耗额度。  
- **独立额度空间**：  
  不同令牌 / 团队 / 上下文的额度彼此独立，互不占用；切换上下文时请确认当前正在使用的额度空间。  

## 协议与入口的限制
- OpenAI 兼容入口：  
  `/v1/*` 系列接口只接受 OpenAI 风格的请求体和字段；如果使用 Claude、Gemini 官方 SDK，请优先走各自原生路径。  
- 原生路径：  
  `/claude/v1/messages`、`/gemini/:version/models/:model` 等路径保留各自协议规则；字段、模型 ID 与官方兼容，但能否成功调用仍受令牌可见模型限制。  
- 任务接口：  
  Midjourney、Suno、RecraftAI、Kling 等接口采用“任务 ID + 查询”的异步模式，不保证一次请求就返回最终图片、音频或视频。  

## 速率与稳定性相关限制
- **限流与 429**：  
  为保护稳定性，平台会根据配置对主路由与任务接口做限流；超出时可能返回 429 或相关错误，需要在客户端做重试或退避。  
- **通道健康度**：  
  自动重试与通道切换依赖至少一个健康备用通道；当所有相关通道不可用时，请求仍可能失败。  
- **长流式调用**：  
  流式返回在网络异常或超时时会被关闭，请在客户端预留超时和重连策略。  

## 权限与上下文相关限制
- **上下文类型**：  
  调用会在个人（user）或团队（team）上下文下执行，不同上下文对应不同额度与模型可见范围。  
- **角色与权限**：  
  是否能管理团队额度、查看团队用量或调整成员配额，取决于团队角色和权限配置（详见「团队协作 / 角色与权限」）。  
- **日志可见范围**：  
  日志与用量统计按上下文和权限控制可见范围，普通成员无法查看不属于自己权限范围的调用记录。  

## 与其他能力的关系
- **配额与用量**：  
  所有调用（包括多模态与任务）都会体现在用量与配额视图中，额度拦截逻辑与团队协作中的配额规则一致。  
- **安全与通知**：  
  内容审查与告警通知依赖在控制台完成相应配置；如未配置，仅通过返回错误和控制台日志体现。  

## 使用前检查清单
1) 在控制台确认当前令牌所属分组、上下文（个人 / 团队）以及基础额度。  
2) 通过模型目录接口确认目标模型是否在当前令牌可见列表中。  
3) 如需使用 Midjourney、Suno、RecraftAI、Kling 等任务接口，先确认对应通道已由管理员开通。  
4) 对接前预估调用量，并在团队配额中预留足够额度，避免频繁触发额度不足或限流。  
