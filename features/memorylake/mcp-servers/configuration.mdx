---
title: "MCP Server Configuration"
description: "Configure and manage MCP server settings and access"
---

## Configuration Overview

Learn how to configure, use, and manage your MCP server API keys effectively.

## Using API Keys

### Authentication Header

All requests require authentication:

```bash
Authorization: Bearer YOUR_API_SECRET
```

### Complete Request Example

```bash
curl -X GET 'https://api.example.com/api/memorylake/mcp/v1/projects/proj_123' \
  -H 'Authorization: Bearer mlk_secret_abc123...' \
  -H 'Content-Type: application/json'
```

### Response Format

Successful response:
```json
{
  "success": true,
  "data": {
    // Response data
  }
}
```

Error response:
```json
{
  "success": false,
  "message": "Error description",
  "code": "ERROR_CODE"
}
```

## Available Endpoints

With an API key, you can access:

### Project Information
```
GET /projects/{projectId}
```

Returns project metadata, document count, memory count.

### Project Documents
```
GET /projects/{projectId}/documents
```

Lists all documents associated with the project.

### Project Memories
```
GET /projects/{projectId}/memories
```

Returns all memories in the project.

### Document Content
```
GET /drives/items/{itemId}
GET /drives/items/{itemId}/binary
```

Access document metadata and download file contents.

See [API Reference](/features/memorylake/api-reference/overview) for complete documentation.

## Managing Multiple Keys

### Why Multiple Keys?

Create separate keys for:
- **Environments**: Dev, staging, production
- **Team Members**: Individual accountability
- **Integrations**: Different applications
- **Purposes**: Read-only analytics vs. AI access

### Naming Strategy

Use descriptive names:
```
prod-claude-integration
dev-testing-john
analytics-dashboard-readonly
mobile-app-beta
```

### Key Organization

Track your keys:
- Document which key is used where
- Note creation dates
- Set reminders for rotation
- Keep inventory of active keys

## Environment Variables

Store API secrets in environment variables:

### .env File

```bash
# .env
MEMORYLAKE_API_KEY=mlk_secret_abc123...
MEMORYLAKE_PROJECT_ID=proj_123
MEMORYLAKE_API_BASE=https://api.example.com/api/memorylake/api/v1
```

### .gitignore

**Important**: Add `.env` to `.gitignore`:
```
# .gitignore
.env
.env.local
.env.*.local
```

### Usage in Code

```javascript
// Node.js example
require('dotenv').config();

const apiKey = process.env.MEMORYLAKE_API_KEY;
const projectId = process.env.MEMORYLAKE_PROJECT_ID;

const response = await fetch(
  `${process.env.MEMORYLAKE_API_BASE}/projects/${projectId}`,
  {
    headers: {
      'Authorization': `Bearer ${apiKey}`,
      'Content-Type': 'application/json'
    }
  }
);
```

## Integration Examples

### Claude Desktop App

Configure Claude to access your project:

```json
{
  "mcpServers": {
    "memorylake": {
      "command": "npx",
      "args": ["-y", "@memorylake/mcp-server"],
      "env": {
        "MEMORYLAKE_API_KEY": "mlk_secret_abc123...",
        "MEMORYLAKE_PROJECT_ID": "proj_123"
      }
    }
  }
}
```

### Custom Application

```javascript
class MemoryLakeClient {
  constructor(apiKey, projectId) {
    this.apiKey = apiKey;
    this.projectId = projectId;
    this.baseUrl = 'https://api.example.com/api/memorylake/api/v1';
  }
  
  async getProject() {
    const response = await fetch(
      `${this.baseUrl}/projects/${this.projectId}`,
      {
        headers: {
          'Authorization': `Bearer ${this.apiKey}`,
          'Content-Type': 'application/json'
        }
      }
    );
    return response.json();
  }
  
  async getMemories() {
    const response = await fetch(
      `${this.baseUrl}/projects/${this.projectId}/memories`,
      {
        headers: {
          'Authorization': `Bearer ${this.apiKey}`
        }
      }
    );
    return response.json();
  }
}

// Usage
const client = new MemoryLakeClient(
  process.env.MEMORYLAKE_API_KEY,
  process.env.MEMORYLAKE_PROJECT_ID
);

const project = await client.getProject();
const memories = await client.getMemories();
```

## Monitoring Usage

Track API key usage:
- Log requests in your application
- Monitor for unauthorized access patterns
- Set up alerts for errors
- Review access logs regularly

## Key Rotation

Rotate keys periodically for security:

<Steps>
<Step title="Create New Key">
Generate a new API key with updated description.
</Step>

<Step title="Update Applications">
Deploy new key to all applications and services.
</Step>

<Step title="Verify">
Test that applications work with new key.
</Step>

<Step title="Delete Old Key">
Once verified, delete the old API key.
</Step>

<Step title="Update Documentation">
Update internal docs with new key info.
</Step>
</Steps>

## Next Steps

<CardGroup cols={2}>
<Card title="Security" icon="lock" href="/features/memorylake/mcp-servers/security">
Learn security best practices
</Card>

<Card title="API Reference" icon="book" href="/features/memorylake/api-reference/overview">
Complete API documentation
</Card>

<Card title="Creating Keys" icon="key" href="/features/memorylake/mcp-servers/creating-api-keys">
Generate new API keys
</Card>
</CardGroup>
